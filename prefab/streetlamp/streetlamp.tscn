[gd_scene load_steps=8 format=3 uid="uid://cn2jh25n7hsb3"]

[ext_resource type="PackedScene" uid="uid://d0itptag8eea2" path="res://3d/assets/streetlamp/streetlight.glb" id="1_8xas0"]
[ext_resource type="Script" uid="uid://b3iadcqq6ulhi" path="res://prefab/streetlamp/streetlampscript.gd" id="1_um4q5"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_8xas0"]
height = 3.95456
radius = 0.1

[sub_resource type="BoxShape3D" id="BoxShape3D_8xas0"]
size = Vector3(0.1, 1.00171, 0.1)

[sub_resource type="BoxShape3D" id="BoxShape3D_um4q5"]
size = Vector3(0.26, 0.443, 0.1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_um4q5"]
transparency = 1
albedo_color = Color(1, 1, 1, 0.117647)
disable_receive_shadows = true

[sub_resource type="CylinderMesh" id="CylinderMesh_ggjue"]
material = SubResource("StandardMaterial3D_um4q5")
top_radius = 0.45
bottom_radius = 4.804
height = 16.065
radial_segments = 7
rings = 1

[node name="streetlight" type="Node3D" node_paths=PackedStringArray("lights", "flat_lights", "trigger_area")]
script = ExtResource("1_um4q5")
lights = [NodePath("streetlight/SpotLight3D"), NodePath("streetlight/OmniLight3D")]
flat_lights = [NodePath("MeshInstance3D")]
trigger_area = NodePath("streetlight/Area3D")
flicker_time = 0.35
flicker_interval = 0.06
light_color = Color(0.760784, 1, 1, 1)

[node name="streetlight" parent="." instance=ExtResource("1_8xas0")]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)

[node name="Area3D" type="Area3D" parent="streetlight"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="streetlight/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.97567, 0)
shape = SubResource("CylinderShape3D_8xas0")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="streetlight/Area3D"]
transform = Transform3D(1, -3.78552e-08, 2.18557e-08, 3.66179e-08, 0.452435, -0.891798, 2.38709e-08, 0.891798, 0.452435, 5.97495e-09, 3.90028, 0.335828)
shape = SubResource("BoxShape3D_8xas0")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="streetlight/Area3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 5.97495e-09, 4.13551, 1.00509)
shape = SubResource("BoxShape3D_um4q5")

[node name="StaticBody3D" type="StaticBody3D" parent="streetlight"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="streetlight/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.3831, 0)
shape = SubResource("CylinderShape3D_8xas0")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="streetlight/StaticBody3D"]
transform = Transform3D(1, -3.78552e-08, 2.18557e-08, 3.66179e-08, 0.452435, -0.891798, 2.38709e-08, 0.891798, 0.452435, 5.97495e-09, 4.67543, 0.389234)
shape = SubResource("BoxShape3D_8xas0")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="streetlight/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 5.97495e-09, 4.91066, 1.0585)
shape = SubResource("BoxShape3D_um4q5")

[node name="SpotLight3D" type="SpotLight3D" parent="streetlight"]
transform = Transform3D(1, 0, 0, 0, -0.0993893, 0.995049, 0, -0.995049, -0.0993893, 0, 4.39645, 1.12975)
light_color = Color(0.760784, 1, 1, 1)
light_energy = 16.0
light_volumetric_fog_energy = 16.0
shadow_bias = 6.115
spot_range = 16.9264
spot_attenuation = 0.82
spot_angle = 29.2594
spot_angle_attenuation = 0.702397

[node name="OmniLight3D" type="OmniLight3D" parent="streetlight"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.57425, 1.12211)
light_energy = 10.0
light_volumetric_fog_energy = 10.0
omni_range = 1.30652

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.996195, 0.0871557, 0, -0.0871557, 0.996195, 0, 6.58884, 3.96795)
mesh = SubResource("CylinderMesh_ggjue")
